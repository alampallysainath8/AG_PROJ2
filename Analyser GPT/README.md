```markdown
# Data Analyst Agent with Code Executor Integration

## Overview

This project implements a collaborative intelligent agent system designed to automate data analysis tasks using Python on CSV files. It features two main agents:

- **Data Analyst Agent:** Receives a data-related question and a CSV file (`data.csv`), plans the solution, writes Python code to analyze the data, and handles output generation including plots saved as `output.png` when required.
- **Code Executor Agent:** Executes the Python code generated by the Data Analyst Agent, manages dependencies installation, and returns execution results.

The system ensures smooth interaction between code generation and execution phases with automatic error handling and iterative retries until success.

---

## Project Structure

```


---

## Modular Components

- **Data Analyst Agent (`data_analyst_agent.py`):**  
  Handles receiving user queries, planning solution approaches, generating analysis code in a single block (including library installation if necessary), and interpreting results.

- **Code Executor Agent (`code_executor_agent.py`):**  
  Runs the Python code received, installs missing packages automatically, and streams back execution results and errors to the analyst agent.

- **Docker Integration (`Dockerfile` and related config):**  
  Ensures safe, repeatable, and isolated code execution environment.

---

## Features

- Automated planning and generation of data analysis code from user questions.
- Interactive execution with error handling and dynamic dependency installation.
- Supports data visualization saved as `output.png` when requested.
- Clear signaling of task completion for smooth orchestration (`STOP` message).
- Uses asynchronous streaming for real-time feedback during code execution.

---

## Getting Started

### Prerequisites

- Python 3.8 or higher
- Docker (for containerized, secure execution)
- Git (to clone repository)

### Setup Instructions

1. **Clone the repository:**

```
git clone https://github.com//.git
cd 
```

2. **Install Python dependencies:**

```
pip install -r requirements.txt
```

3. **Ensure Docker is installed and running:**

- [Install Docker](https://docs.docker.com/get-docker/)
- Verify with:

```
docker --version
```

4. **(Optional) Configure environment variables** in `.env`.

### Running the Project

Run the main orchestrator script:

```
python main.py
```

Once running, input your data-related question referencing the `data.csv` file. The agents will process your query, generate Python code, execute it, handle dependencies, and return results including saved visualizations.

---

## Example Workflow

1. User inputs a question about `data.csv`.
2. Data Analyst Agent devises a plan and writes a Python script (single block).
3. The script is sent to Code Executor Agent for execution.
4. If required libraries are missing, an automatic `pip install` step is triggered.
5. Code is re-run until it executes successfully.
6. The analyst reviews output, generates plots (saved as `output.png`), and completes the task.
7. The system signals completion with `"STOP"`.

---

## License

This project is licensed under the MIT License.

---

## Contact

For questions or contributions, please contact [Your Name] or open an issue on GitHub.

---

Thank you for exploring this intelligent data analysis automation system!
```